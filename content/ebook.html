<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Entendendo o H√°bito da Pornografia ‚Äì Reduza seu consumo para quase zero.</title>

  <style>
    :root{
      --bg:#070b12;
      --bg2:#0b1220;
      --text:#e5e7eb;
      --muted:#a1a1aa;
      --border:rgba(255,255,255,.10);
      --card:rgba(15,23,42,.72);
      --cardSolid:#0f172a;
      --link:#93c5fd;
      --linkHover:#bfdbfe;
      --focus:#60a5fa;
      --shadow:0 10px 30px rgba(0,0,0,.35);
    }
    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      background:
        radial-gradient(1200px 700px at 20% 10%, rgba(147,197,253,.12), transparent 55%),
        radial-gradient(900px 600px at 80% 20%, rgba(167,243,208,.10), transparent 55%),
        linear-gradient(180deg, var(--bg) 0%, var(--bg2) 100%);
      color:var(--text);
      line-height:1.7;
      font-size:18px;
    }
    a{color:var(--link)}
    body::before{
      content:"";
      position:fixed;
      inset:0;
      pointer-events:none;
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='1200' height='800' viewBox='0 0 1200 800'%3E%3Cg fill='none' stroke='%23a7f3d0' stroke-width='2' opacity='0.18'%3E%3Cpath d='M80 720 C 240 560, 360 560, 520 720 S 800 880, 980 720 S 1200 560, 1340 720'/%3E%3Cpath d='M80 80 C 240 240, 360 240, 520 80 S 800 -80, 980 80 S 1200 240, 1340 80'/%3E%3Cpath d='M160 140 C 320 300, 440 300, 600 140 S 880 -20, 1060 140'/%3E%3Cpath d='M160 660 C 320 500, 440 500, 600 660 S 880 820, 1060 660'/%3E%3C/g%3E%3Cg fill='none' stroke='%2393c5fd' stroke-width='2' opacity='0.16'%3E%3Cpath d='M860 120 C 900 180, 960 210, 1030 220 C 1100 230, 1120 300, 1070 340 C 1020 380, 940 360, 900 300 C 860 240, 820 220, 770 210'/%3E%3Cpath d='M780 210 L 720 160'/%3E%3Cpath d='M900 300 L 840 360'/%3E%3Cpath d='M1030 220 L 1090 170'/%3E%3Ccircle cx='720' cy='160' r='10'/%3E%3Ccircle cx='840' cy='360' r='10'/%3E%3Ccircle cx='1090' cy='170' r='10'/%3E%3Ccircle cx='770' cy='210' r='10'/%3E%3Ccircle cx='860' cy='120' r='10'/%3E%3Ccircle cx='900' cy='300' r='10'/%3E%3Ccircle cx='1030' cy='220' r='10'/%3E%3C/g%3E%3C/svg%3E");
      background-size:1200px 800px;
      background-position:center top;
      background-repeat:no-repeat;
      opacity:.03;
      mix-blend-mode:screen;
      filter: blur(0.2px);
    }
    a:hover{color:var(--linkHover)}
    a:focus, button:focus{
      outline:3px solid rgba(37,99,235,.35);
      outline-offset:2px;
    }

    .topbar{
      position:sticky;
      top:0;
      z-index:1000;
      background:rgba(7,11,18,.72);
      backdrop-filter:saturate(180%) blur(10px);
      border-bottom:1px solid var(--border);
    }
    .topbar-inner{
      max-width:980px;
      margin:0 auto;
      padding:10px 16px;
      display:flex;
      align-items:center;
      gap:12px;
    }
    .brand{
      display:flex;
      flex-direction:column;
      gap:2px;
      min-width: 220px;
    }
    .brand-title{
      font-weight:700;
      font-size:16px;
      line-height:1.2;
      margin:0;
    }
    .brand-sub{
      font-size:13px;
      color:var(--muted);
      line-height:1.2;
      margin:0;
    }
    .topbar-actions{
      margin-left:auto;
      display:flex;
      align-items:center;
      gap:10px;
      flex-wrap:wrap;
    }
    .btn{
      appearance:none;
      border:1px solid var(--border);
      background:rgba(255,255,255,.04);
      color:var(--text);
      padding:8px 12px;
      border-radius:12px;
      font-size:14px;
      cursor:pointer;
    }
    .btn:hover{border-color:rgba(255,255,255,.18); background:rgba(255,255,255,.06)}
    .btn-primary{
      background:rgba(147,197,253,.16);
      color:var(--text);
      border-color:rgba(147,197,253,.22);
    }
    .btn-primary:hover{background:rgba(147,197,253,.22)}

    .container{
      max-width:980px;
      margin:0 auto;
      padding:18px 16px 80px;
    }

    .hero{
      padding:18px 0 6px;
    }
    .hero h1{
      font-size:34px;
      line-height:1.2;
      margin:0 0 8px;
      letter-spacing:.2px;
    }
    .hero p{
      margin:0;
      color:var(--muted);
      max-width: 70ch;
    }

    .toc{
      margin:18px 0 28px;
      border:1px solid var(--border);
      border-radius:16px;
      background:var(--card);
      box-shadow: var(--shadow);
      padding:14px 14px 6px;
    }
    .toc-head{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding:4px 2px 10px;
    }
    .toc h2{
      font-size:18px;
      margin:0;
    }
    .toc ul{
      margin:0;
      padding:0 0 8px 0;
      list-style:none;
    }
    .toc li{
      padding:8px 6px;
      border-top:1px solid rgba(255,255,255,.08);
    }
    .toc a{
      text-decoration:none;
      display:block;
    }
    .toc a small{
      display:block;
      color:var(--muted);
      font-size:12px;
      margin-top:2px;
    }

    .section{
      margin:0 0 18px;
      padding:18px 16px;
      border:1px solid var(--border);
      border-radius:16px;
      background:var(--card);
      box-shadow: var(--shadow);
      position:relative;
      overflow:hidden;
    }
    .section::after{
      content:"";
      position:absolute;
      inset:-40px -40px auto auto;
      width:420px;
      height:260px;
      background-image:url("%3Csvg xmlns='http://www.w3.org/2000/svg' width='420' height='260' viewBox='0 0 420 260'%3E%3Cg fill='none' stroke='%23a7f3d0' stroke-width='2' opacity='0.22'%3E%3Cpath d='M40 210 C 120 150, 170 150, 250 210 S 360 270, 450 210'/%3E%3Cpath d='M40 60 C 120 120, 170 120, 250 60 S 360 0, 450 60'/%3E%3Cpath d='M90 80 L 210 180'/%3E%3Cpath d='M120 60 L 240 160'/%3E%3Cpath d='M150 40 L 270 140'/%3E%3C/g%3E%3C/svg%3E");
      background-size:contain;
      background-repeat:no-repeat;
      opacity:.06;
      pointer-events:none;
      transform:rotate(8deg);
    }
    .section h2{
      font-size:24px;
      line-height:1.25;
      margin:0 0 10px;
    }
    .section h3{
      font-size:20px;
      margin:18px 0 8px;
    }
    .section h4{
      font-size:18px;
      margin:16px 0 8px;
    }
    .section p{margin:0 0 12px}
    .section ul{margin:0 0 12px; padding-left:22px}
    .section li{margin:6px 0}

    img{
      max-width:100%;
      height:auto;
      border-radius:12px;
    }
    .icon{
      width: min(180px, 100%);
      margin:10px 0 6px;
    }

    /* VIDEO ‚Äî corrigido para v√≠deos verticais (9:16) */
.video-wrap{
  width:100%;
  max-width:420px;              /* controla tamanho no desktop */
  margin:18px auto 10px;        /* centraliza */
  aspect-ratio:9/16;            /* formato real do v√≠deo */
  border-radius:16px;
  overflow:hidden;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(10,16,28,.55);
  box-shadow: 0 18px 50px rgba(0,0,0,.45);
  position: relative;
}

/* brilho sutil (mant√©m est√©tica) */
.video-wrap::before{
  content:"";
  position:absolute;
  inset:0;
  background:
    radial-gradient(70% 60% at 50% 35%, rgba(147,197,253,.10), transparent 60%);
  pointer-events:none;
  z-index:1;
}

video.video{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit:contain;           /* üîë ISSO REMOVE O CORTE */
  background:#000;
  z-index:0;
}

/* Mobile: ocupa largura total sem estourar */
@media (max-width:600px){
  .video-wrap{
    max-width:100%;
    aspect-ratio:9/16;
  }
}

.video-hint{
  margin-top:8px;
  font-size:13px;
  color: rgba(229,231,235,.60);
  text-align:center;
}

    .pager{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin-top:10px;
      padding-top:6px;
      border-top:1px solid rgba(255,255,255,.08);
    }
    .pager .btn{
      appearance:none;
      border:1px solid var(--border);
      background:rgba(255,255,255,.04);
      color:var(--text);
      padding:8px 12px;
      border-radius:12px;
      font-size:14px;
      cursor:pointer;
    }

    .backtop{
      position:fixed;
      right:16px;
      bottom:16px;
      border:1px solid var(--border);
      background:rgba(15,23,42,.75);
      color:var(--text);
      border-radius:999px;
      padding:10px 12px;
      font-size:14px;
      cursor:pointer;
      box-shadow: var(--shadow);
    }

    @media (prefers-reduced-motion: reduce){
      html{scroll-behavior:auto}
    }

    @media (max-width:600px){
      body{font-size:17px}
      .brand{min-width:auto}
      .hero h1{
        font-size:34px;
        line-height:1.2;
        margin:0 0 8px;
        letter-spacing:.2px;
      }
      .pager .btn{
        appearance:none;
        border:1px solid var(--border);
        background:rgba(255,255,255,.04);
        color:var(--text);
        padding:8px 12px;
        border-radius:12px;
        font-size:14px;
        cursor:pointer;
      }
    }

    .scene{
      position: relative;
      height: 360px;
      border: 1px solid var(--border);
      border-radius: 18px;
      overflow: hidden;
      background-size: cover;
      background-position: center;
      margin: 18px 0 22px;
      box-shadow: var(--shadow);
    }
    .scene::before{
      content:"";
      position:absolute;
      inset:0;
      background:
        linear-gradient(180deg, rgba(7,11,18,.70) 0%, rgba(7,11,18,.30) 45%, rgba(7,11,18,.78) 100%);
    }
    .scene-overlay{
      position:absolute;
      inset:0;
      box-shadow: inset 0 0 140px rgba(0,0,0,.55);
      pointer-events:none;
    }
    .scene-caption{
      position:absolute;
      left:14px;
      bottom:12px;
      right:14px;
      font-size:14px;
      color: rgba(229,231,235,.86);
      background: rgba(15,23,42,.35);
      border: 1px solid rgba(255,255,255,.10);
      padding:10px 12px;
      border-radius:14px;
      backdrop-filter: blur(6px) saturate(140%);
      max-width: 72ch;
    }
    .scene-caption strong{
      display:block;
      font-weight:700;
      color: rgba(229,231,235,.96);
      margin-bottom:2px;
    }
    @media (max-width:600px){
      .scene{
        height:auto;
        aspect-ratio: 16 / 9;
      }
      .scene-caption{font-size:13px;}
    }
  </style>
</head>

<body>
  <div class="topbar" role="navigation" aria-label="Primary">
    <div class="topbar-inner">
      <div class="brand">
        <p class="brand-title">Um m√©todo para reduzir o seu consumo de pornografia.</p>
        <p class="brand-sub">Um estudo observacional pessoal de 90 dias</p>
      </div>
      <div class="topbar-actions">
        <button class="btn" id="tocToggle" type="button" aria-expanded="true" aria-controls="tocList">Conte√∫do</button>
        <button class="btn" id="prevBtn" type="button">Anterior</button>
        <button class="btn btn-primary" id="nextBtn" type="button">Pr√≥ximo</button>
      </div>
    </div>
  </div>

  <div class="container">
    <header class="hero" id="top">
      <h1>H√°bito da Pornografia</h1>
      <p>Entender o problema j√° √© metade da solu√ß√£o.</p>
    </header>

    <nav class="toc" aria-label="Table of contents">
      <div class="toc-head">
        <h2>Conte√∫do</h2>
        <span style="color:var(--muted);font-size:13px">Toque em um item para pular</span>
      </div>
      <ul id="tocList">
        <li><a href="#introduction">Introdu√ß√£o ‚Äî Como Este Estudo Come√ßou</a></li>
        <li><a href="#core-question">Pergunta Central do Estudo</a></li>
        <li><a href="#groups">Os Tr√™s Grupos de Usu√°rios</a></li>
        <li><a href="#porn-vs-sex">Pornografia vs Sexo Sem Amor</a></li>
        <li><a href="#final-method">Final ‚Äî O M√©todo</a></li>
        <li><a href="#meaning">D√™ uma olhada - (Opcional)</a></li>
      </ul>
    </nav>

    <!-- Introduction Section -->
    <section id="introduction" class="section">
      <h2>Introdu√ß√£o ‚Äî Como Este Estudo Come√ßou</h2>

      <p>Eu tive meu primeiro contato com Pornografia quando eu tinha por volta de 15 anos. Na √©poca, parecia normal e insignificante. Com o passar dos anos, virou um h√°bito recorrente ‚Äî √†s vezes mais presente, √†s vezes menos, mas sempre parte da minha rotina.</p>

      <p>Por um longo per√≠odo, esse comportamento seguiu um padr√£o repetitivo de tentativas de mudan√ßa e reca√≠da eventual. Mesmo quando eu consegui parar por curtos per√≠odos, o ciclo por tr√°s disso permaneceu inalterado.</p>

      <p>O que ficou claro foi que conselhos comuns e explica√ß√µes superficiais n√£o eram suficientes para explicar por que o comportamento persistia.</p>

      <p>Ao final dos 4 v√≠deos, voc√™ ter√° aprendido como reduzir significativamente o seu consumo e, principalmente, como retirar o peso da pornografia da sua vida por meio de m√©todos baseados em princ√≠pios biol√≥gicos, aplic√°veis de forma pr√°tica no dia a dia.</p>
    </section>

    <!-- PATH FIX: /assets/... (because files are in public/assets) -->
    <div class="scene" style="background-image:url('/assets/scene1_new.png')" role="img" aria-label="Ciclo noturno. Sozinho, cansado, e puxado de volta para a tela.">
      <div class="scene-overlay"></div>
      <div class="scene-caption"><strong>Ciclo noturno</strong>Sozinho, cansado, e puxado de volta para a tela.</div>
    </div>

    <!-- Core Question Section -->
    <section id="core-question" class="section">
      <h2>Pergunta Central do Estudo</h2>
      <p>A pergunta principal por tr√°s de todo este estudo era simples:</p>
      <p><strong>Por que a pornografia √© t√£o dif√≠cil de largar em compara√ß√£o com outros h√°bitos?</strong></p>
      <ul>
        <li>Pessoas largam o √°lcool.</li>
        <li>Pessoas largam cigarro.</li>
        <li>Pessoas largam a√ß√∫car, jogos, redes sociais.</li>
      </ul>
      <p>Mas a pornografia parece diferente.</p>
      <p>Parece mais persistente, mais interna, mais resistente √† for√ßa de vontade.</p>
      <p>Eu suspeitei que o problema n√£o era falta de disciplina, mas falta de entendimento.</p>

      <!-- VIDEO 1 -->
      <div class="video-wrap">
        <video class="video" controls preload="metadata" playsinline controlsList="nodownload noplaybackrate" data-video="Take01.mp4">
          <source data-src="" type="video/mp4">
        </video>
      </div>
      <div class="video-hint">Se o v√≠deo n√£o carregar, recarregue a pagina (f5) ou entre no site novamente.</div>
    </section>

    <div class="scene" style="background-image:url('/assets/scene2_new.png')" role="img" aria-label="A pergunta aparece. Um momento silencioso que vira uma decis√£o de estudar o h√°bito.">
      <div class="scene-overlay"></div>
      <div class="scene-caption"><strong>A pergunta aparece</strong>Um momento silencioso que vira uma decis√£o de estudar o h√°bito.</div>
    </div>

    <!-- User Groups Section -->
    <section id="groups" class="section">
      <h2>Os Tr√™s Grupos de Usu√°rios</h2>
      <p>Enquanto eu me observava e observava outras pessoas, ficou claro que nem todo mundo assiste pornografia pelo mesmo motivo.</p>
      <p>√â por isso que conselhos gen√©ricos frequentemente falham.</p>
      <p>Eu identifiquei tr√™s padr√µes principais. Cada um tem um ‚Äúmotor‚Äù diferente, o que significa que cada um precisa de uma abordagem diferente.</p>

      <h3>Grupo A ‚Äî Usu√°rios Visuais / Focados em Objetos</h3>
      <h3>Grupo B ‚Äî Usu√°rios de Fantasia / Narrativa</h3>
      <h3>Grupo C ‚Äî Usu√°rios de Afeto / Apego</h3>
      <p><em>Abaixo, voc√™ vai come√ßar a ver a qual desses grupos voc√™ pertence ‚Äî e o que isso revela sobre voc√™.</em></p>

      <!-- VIDEO 2 -->
      <div class="video-wrap">
        <video class="video" controls preload="metadata" playsinline controlsList="nodownload noplaybackrate" data-video="Take02.mp4">
          <source data-src="" type="video/mp4">
        </video>
      </div>
    </section>

    <div class="scene" style="background-image:url('/assets/scene2.5.png')" role="img" aria-label="Sexo sem amor segue o mesmo padr√£o da pornografia.">
      <div class="scene-overlay"></div>
      <div class="scene-caption"><strong>Ciclo noturno</strong>Sexo sem amor segue o mesmo padr√£o da pornografia.</div>
    </div>

    <!-- Pornography vs Sex Without Love Section -->
    <section id="porn-vs-sex" class="section">
      <h2>Pornografia vs Sexo Sem Amor</h2>
      <p>Outra pergunta que eu explorei foi:</p>
      <p><strong>Por que as pessoas frequentemente se sentem vazias depois?</strong></p>
      <p>Eu comparei pornografia com outra situa√ß√£o que acontece todo dia, mas raramente √© julgada do mesmo jeito.</p>
      <p>√Ä primeira vista, pode parecer completamente diferente ‚Äî mas a compara√ß√£o revela algo inesperado.</p>

      <p><em>Agora, vamos falar sobre por que voc√™ n√£o precisa sentir culpa depois de consumir Pornografia</em></p>

      <!-- VIDEO 3 -->
      <div class="video-wrap">
        <video class="video" controls preload="metadata" playsinline controlsList="nodownload noplaybackrate" data-video="Take03.mp4">
          <source data-src="" type="video/mp4">
        </video>
      </div>
    </section>

    <div class="scene" style="background-image:url('/assets/scene3_new.png')" role="img" aria-label="O compromisso de 90 dias. Enfrentando voc√™ mesmo com clareza e coragem.">
      <div class="scene-overlay"></div>
      <div class="scene-caption"><strong>O compromisso de 90 dias</strong>Enfrentando voc√™ mesmo com clareza e coragem.</div>
    </div>

    <!-- Final ‚Äî The Method Section -->
    <section id="final-method" class="section">
      <h2>Final ‚Äî O M√©todo</h2>
      <p>√â aqui que a observa√ß√£o termina e a a√ß√£o come√ßa.</p>
      <p>O v√≠deo abaixo mostra os passos exatos para seguir quando um impulso aparece, focando no que fazer em tempo real em vez de por que o h√°bito existe.</p>
      <p><strong>Esta se√ß√£o √© pr√°tica:</strong> a√ß√µes claras, aplicadas imediatamente, feitas para mudar comportamento ‚Äî n√£o analisar ele.</p>

      <!-- VIDEO 4 -->
      <div class="video-wrap">
        <video class="video" controls preload="metadata" playsinline controlsList="nodownload noplaybackrate" data-video="Take04.mp4">
          <source data-src="" type="video/mp4">
        </video>
      </div>
    </section>

    <div class="scene" style="background-image:url('/assets/scene7.png')" role="img" aria-label="Substitui√ß√£o saud√°vel. Movimento, ar fresco e conex√£o real substituem o ciclo antigo.">
      <div class="scene-overlay"></div>
      <div class="scene-caption"><strong>Voc√™ n√£o deve nada.</strong>Mesmo que voc√™ n√£o seja religioso, talvez voc√™ precise ouvir isso, independente de onde voc√™ esteja hoje.</div>
    </div>

    <!-- Meaning and Faith Section -->
    <section id="meaning" class="section">
      <h2>Isto √© opcional.</h2>
      <p>Significado pode vir de fontes diferentes.</p>
      <p>O m√©todo funciona de forma independente porque √© biol√≥gico.<br />Significado fortalece compromisso para qualquer objetivo.</p>

      <!-- VIDEO 5 -->
      <div class="video-wrap">
        <video class="video" controls preload="metadata" playsinline controlsList="nodownload noplaybackrate" data-video="Take05.mp4">
          <source data-src="" type="video/mp4">
        </video>
      </div>
    </section>

    <div class="scene" style="background-image:url('/assets/scene6_new.png')" role="img" aria-label="De volta √† vida. Presen√ßa, amizade e pertencimento.">
      <div class="scene-overlay"></div>
      <div class="scene-caption"><strong>De volta √† vida</strong>Lembre: Todo mundo est√° procrastinando de alguma forma.</div>
    </div>
  </div>

  <button class="backtop" type="button" id="backTop" aria-label="Voltar ao topo">‚Üë Topo</button>

  <script>
    (function(){
      // 1) COLOQUE AQUI o seu Public Development URL do bucket (o que aparece em Settings).
      // Exemplo (o seu vai ser diferente):
      // const R2_PUBLIC_BASE = "https://pub-ac42f578b97c484e9a5d3583495dd537.r2.dev";
      const R2_PUBLIC_BASE = "https://pub-ac42f578b97c484e9a5d3583495dd537.r2.dev";

      // 2) Monta URLs dos v√≠deos (Take01.mp4 ... Take05.mp4)
      function buildVideoUrl(fileName){
        return R2_PUBLIC_BASE.replace(/\/+$/,'') + "/" + encodeURIComponent(fileName);
      }

      // 3) Lazy-load: s√≥ seta o src quando o v√≠deo entrar na tela (evita baixar 300MB sem necessidade)
      const videos = Array.from(document.querySelectorAll('video.video[data-video]'));

      function loadVideo(v){
        if (v.dataset.loaded === "1") return;
        const fileName = v.getAttribute("data-video");
        const url = buildVideoUrl(fileName);

        const source = v.querySelector("source");
        if (source){
          source.src = url;
        } else {
          v.src = url;
        }

        v.dataset.loaded = "1";
        // For√ßa o elemento a reconhecer o source rec√©m-setado
        v.load();
      }

      if ("IntersectionObserver" in window){
        const io = new IntersectionObserver((entries) => {
          entries.forEach((entry) => {
            if (!entry.isIntersecting) return;
            loadVideo(entry.target);
            io.unobserve(entry.target);
          });
        }, { rootMargin: "300px 0px" });

        videos.forEach(v => io.observe(v));
      } else {
        // fallback
        videos.forEach(loadVideo);
      }

      // ===== Navega√ß√£o existente (mantida) =====
      const sections = Array.from(document.querySelectorAll('section.section[id]'));
      const tocToggle = document.getElementById('tocToggle');
      const tocList = document.getElementById('tocList');
      const prevBtn = document.getElementById('prevBtn');
      const nextBtn = document.getElementById('nextBtn');
      const backTop = document.getElementById('backTop');

      function currentSectionIndex(){
        const y = window.scrollY || document.documentElement.scrollTop;
        const offset = 140;
        let idx = 0;
        for (let i = 0; i < sections.length; i++){
          const top = sections[i].getBoundingClientRect().top + window.scrollY;
          if (top - offset <= y) idx = i;
        }
        return idx;
      }

      function goToIndex(i){
        if (!sections[i]) return;
        sections[i].scrollIntoView({behavior:'smooth', block:'start'});
      }

      function updateButtons(){
        const idx = currentSectionIndex();
        prevBtn.disabled = idx <= 0;
        nextBtn.disabled = idx >= sections.length - 1;
      }

      prevBtn.addEventListener('click', () => goToIndex(currentSectionIndex() - 1));
      nextBtn.addEventListener('click', () => goToIndex(currentSectionIndex() + 1));

      tocToggle.addEventListener('click', () => {
        const isHidden = tocList.style.display === 'none';
        tocList.style.display = isHidden ? '' : 'none';
        tocToggle.setAttribute('aria-expanded', String(isHidden));
      });

      backTop.addEventListener('click', () => {
        document.getElementById('top').scrollIntoView({behavior:'smooth', block:'start'});
      });

      window.addEventListener('scroll', updateButtons, {passive:true});
      window.addEventListener('load', updateButtons);

            tocList.addEventListener('click', (e) => {
        const a = e.target.closest('a');
        if (!a) return;
        if (window.matchMedia('(max-width: 600px)').matches){
          tocList.style.display = 'none';
          tocToggle.setAttribute('aria-expanded', 'false');
        }
      });
    })();
  </script>

  <!-- BLOQUEIO B√ÅSICO DE DOWNLOAD -->
  <script>
    (function () {
      // Bloqueia bot√£o direito
      document.addEventListener("contextmenu", function (e) {
        e.preventDefault();
      });

      // Bloqueia atalhos comuns de download / inspe√ß√£o
      document.addEventListener("keydown", function (e) {
        const k = e.key.toLowerCase();

        if (e.key === "F12") {
          e.preventDefault();
          return false;
        }

        if ((e.ctrlKey || e.metaKey) && (
          k === "s" || // salvar
          k === "u" || // ver c√≥digo-fonte
          k === "p" || // imprimir
          k === "i" || // devtools
          k === "j" || // console
          k === "c"    // copiar
        )) {
          e.preventDefault();
          return false;
        }
      });

      // Prote√ß√£o extra nos v√≠deos
      document.querySelectorAll("video").forEach(video => {
        video.setAttribute("draggable", "false");
        video.addEventListener("dragstart", e => e.preventDefault());
      });

      // Bloqueia clique direito especificamente no v√≠deo
      document.addEventListener("mousedown", function (e) {
        if (e.target.tagName === "VIDEO" && e.button === 2) {
          e.preventDefault();
        }
      });
    })();
  </script>

</body>
</html>
